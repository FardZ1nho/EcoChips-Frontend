<div class="login-page">
  <!-- Header -->
  <header class="header">
    <div class="logo-section">
      <img src="assets/img/logoEco.png" alt="EcoChips logo" class="logo" />
      <h1>EcoChips</h1>
    </div>
    
    <!-- üÜï Bot√≥n para volver al selector -->
    <button class="btn-back" (click)="volverAlLanding()">
      ‚Üê Volver
    </button>
  </header>

  <!-- Card de Login -->
  <div class="login-container">
    <div class="login-box">
      <div class="login-header">
        <h2>ECOCHIPS</h2>
        
        <!-- üÜï Badge del tipo de usuario -->
        <div class="user-type-badge" 
             [class.admin-badge]="tipoUsuarioSeleccionado === 'ADMIN'"
             [class.user-badge]="tipoUsuarioSeleccionado === 'USER'">
          <span class="badge-icon">
            {{ tipoUsuarioSeleccionado === 'ADMIN' ? 'üë®‚Äçüíº' : 'üë§' }}
          </span>
          <span class="badge-text">{{ getNombreTipoUsuario() }}</span>
        </div>
      </div>

      <div class="login-form">
        
        <!-- INPUT CORREO -->
        <div class="form-group">
          <input 
            type="email" 
            placeholder="Correo electr√≥nico" 
            [(ngModel)]="correo"
            name="correo"
            class="form-input"
            [disabled]="isLoading"
          />
        </div>

        <!-- INPUT CONTRASE√ëA -->
        <div class="form-group">
          <input 
            type="password" 
            placeholder="Contrase√±a" 
            [(ngModel)]="contrasena"
            name="contrasena"
            class="form-input"
            [disabled]="isLoading"
            (keyup.enter)="iniciarSesion()"
          />
        </div>

        <!-- MENSAJE DE ERROR (Solo se ve si hay error) -->
        <div *ngIf="mensajeError" class="error-message">
          {{ mensajeError }}
        </div>

        <div class="extra">
          <a href="#">¬øOlvidaste tu contrase√±a?</a>
        </div>

        <!-- BOT√ìN DE LOGIN -->
        <button 
          (click)="iniciarSesion()" 
          class="btn-login"
          [disabled]="isLoading"
          [class.loading]="isLoading">
          <span *ngIf="!isLoading">INICIAR SESI√ìN</span>
          <span *ngIf="isLoading">
            <span class="spinner"></span>
            VERIFICANDO...
          </span>
        </button>

        <div class="divider">
          <span>o contin√∫a con</span>
        </div>

        <div class="social-login">
          <img src="assets/img/google.png" alt="Google" />
          <img src="assets/img/facebook.png" alt="Facebook" />
          <img src="assets/img/apple.png" alt="Apple" />
        </div>

        <p class="registro-texto">
          ¬øNo tienes cuenta?
          <a routerLink="/registro">Reg√≠strate</a>
        </p>
      </div>
    </div>
  </div>
</div>