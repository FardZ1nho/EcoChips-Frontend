<div class="form-container">
  <h2>{{ titulo }}</h2>

  <form [formGroup]="form" (ngSubmit)="guardar()">

    <input type="hidden" formControlName="idEvento">

    <!-- TÍTULO -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Título</mat-label>
      <input matInput formControlName="titulo">
      <mat-error *ngIf="form.get('titulo')?.hasError('required')">
        El título es obligatorio
      </mat-error>
    </mat-form-field>

    <!-- DESCRIPCIÓN -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Descripción</mat-label>
      <textarea matInput rows="3" formControlName="descripcion"></textarea>
      <mat-error *ngIf="form.get('descripcion')?.hasError('required')">
        La descripción es obligatoria
      </mat-error>
    </mat-form-field>

    <!-- FECHA (HOY Y FUTURAS) -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Fecha</mat-label>
      <input
        matInput
        [matDatepicker]="pickerFecha"
        formControlName="fecha"
        [min]="minFecha">

      <mat-datepicker-toggle matSuffix [for]="pickerFecha"></mat-datepicker-toggle>
      <mat-datepicker #pickerFecha></mat-datepicker>

      <mat-error *ngIf="form.get('fecha')?.hasError('required')">
        La fecha es obligatoria
      </mat-error>
    </mat-form-field>

    <!-- HORA (DESDE 6 AM) -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Hora</mat-label>
      <input matInput [matTimepicker]="pickerHora" formControlName="hora">

      <mat-timepicker-toggle matSuffix [for]="pickerHora"></mat-timepicker-toggle>
      <mat-timepicker #pickerHora></mat-timepicker>

      <mat-error *ngIf="form.get('hora')?.hasError('required')">
        La hora es obligatoria
      </mat-error>

      <mat-error *ngIf="form.get('hora')?.hasError('horaInvalida')">
        La hora debe ser desde las 6:00 AM
      </mat-error>
    </mat-form-field>

    <!-- DIRECCIÓN -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Dirección</mat-label>
      <input matInput formControlName="direccion">
      <mat-error *ngIf="form.get('direccion')?.hasError('required')">
        La dirección es obligatoria
      </mat-error>
    </mat-form-field>

    <!-- BOTONES -->
    <div class="acciones">
      <button mat-raised-button color="primary" type="submit" [disabled]="form.invalid">
        {{ modoEdicion ? 'Actualizar' : 'Guardar' }}
      </button>

      <button mat-button color="warn" type="button" (click)="cancelar()">
        Cancelar
      </button>
    </div>

  </form>
</div>
