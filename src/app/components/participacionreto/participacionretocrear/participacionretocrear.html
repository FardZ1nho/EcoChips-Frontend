<div class="form-container">
  <h2>{{ titulo }}</h2>
  <form [formGroup]="form" (ngSubmit)="registrar()">

    <!-- Campo oculto para edición -->
    <input type="hidden" formControlName="idParticipacion">

    <label>ID Usuario</label>
    <input type="number" formControlName="idUsuario"
      [ngClass]="{'error': form.get('idUsuario')?.invalid && form.get('idUsuario')?.touched}">
    <div class="error-msg" *ngIf="form.get('idUsuario')?.invalid && form.get('idUsuario')?.touched">
      Este campo es obligatorio.
    </div>

    <label>ID Reto</label>
    <input type="number" formControlName="idReto"
      [ngClass]="{'error': form.get('idReto')?.invalid && form.get('idReto')?.touched}">
    <div class="error-msg" *ngIf="form.get('idReto')?.invalid && form.get('idReto')?.touched">
      Este campo es obligatorio.
    </div>

    <label>Completado</label>
    <select formControlName="completado"
      [ngClass]="{'error': form.get('completado')?.invalid && form.get('completado')?.touched}">
      <option value="true">Sí</option>
      <option value="false">No</option>
    </select>

    <div class="acciones">
      <button type="submit" class="btn-guardar">{{ modoEdicion ? 'Guardar' : 'Registrar' }}</button>
      <button type="button" class="btn-cancelar" (click)="cancelar()">Cancelar</button>
    </div>
  </form>
</div>